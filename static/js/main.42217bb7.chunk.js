(this["webpackJsonptricount-like"]=this["webpackJsonptricount-like"]||[]).push([[0],{301:function(e,t,a){},303:function(e,t,a){},304:function(e,t,a){},305:function(e,t,a){},306:function(e,t,a){},307:function(e,t,a){},311:function(e,t,a){},434:function(e,t,a){"use strict";a.r(t);var n=a(4),c=a(0),r=a.n(c),i=a(40),l=a(28),s=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,488)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),r(e),i(e)}))},o=(a(301),a(302),a(303),a(471)),u=(a(304),function e(){return Object(n.jsx)(o.a,{fluid:!0,className:e.name.toLowerCase(),children:Object(n.jsx)("div",{className:"display",children:Object(n.jsx)("h1",{className:"title",children:"le juste compte"})})})}),d=a(485),b=(a(305),a(472)),j=a(263),p=a(473),m=a(474),h=(a(306),a(486)),O=a(487),f=(a(307),function(e){var t=e.name,a=e.expenses,c=e.addExpense,r=e.totalUser,i=e.deleteUserModal;return Object(n.jsxs)(h.a,{style:{minWidth:"9rem"},className:"cardP",children:[Object(n.jsxs)(h.a.Header,{className:"cardP__header",children:[Object(n.jsx)("span",{className:"cardP__header--left",children:t}),Object(n.jsxs)("span",{className:"cadP__header--right",children:[Object(n.jsx)("a",{onClick:c,children:Object(n.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-plus-circle cardP__header_icons",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[Object(n.jsx)("path",{fillRule:"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),Object(n.jsx)("path",{fillRule:"evenodd",d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"})]})}),Object(n.jsx)("a",{onClick:i,children:Object(n.jsxs)("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-trash cardP__header_icons",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[Object(n.jsx)("path",{d:"M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"}),Object(n.jsx)("path",{fillRule:"evenodd",d:"M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4L4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"})]})})]})]}),Object(n.jsxs)(O.a,{variant:"flush",children:[a.map((function(e){return Object(n.jsxs)(O.a.Item,{className:"cardP__body",children:[Object(n.jsx)("span",{className:"cardP__body--left",children:e.label}),Object(n.jsx)("span",{className:"cardP__body--right",children:e.amount})]},e.id)})),Object(n.jsxs)(O.a.Item,{className:"cardP__footer",children:[Object(n.jsx)("span",{className:"cardP__body--left",children:"Total"}),Object(n.jsx)("span",{className:"cardP__body--left",children:r})]})]})]})}),x=function e(t){var a=t.users,c=t.switchModal,r=t.addExpense,i=t.deleteUserModal;return Object(n.jsx)(o.a,{className:e.name.toLowerCase(),children:Object(n.jsxs)(b.a,{className:"justify-content-center userlist--flex",children:[Object(n.jsxs)(j.a,{className:"userlist__buttonlist",children:[Object(n.jsx)(p.a,{block:!0,className:"userlist__buttonlist buttonlist--marge",variant:"info",onClick:c,children:"Ajouter un utilisateur"}),Object(n.jsx)(p.a,{block:!0,disabled:!0,className:"userlist__buttonlist buttonlist--marge",variant:"warning",onClick:c,children:"Supprimer tous les utilisateurs"})]}),Object(n.jsx)(j.a,{children:Object(n.jsx)(m.a,{children:a.map((function(e){var t=e.expenses.reduce((function(e,t){return e+t.amount}),0);return Object(n.jsx)(f,{name:e.name,expenses:e.expenses,addExpense:function(){r(e.id)},deleteUserModal:function(){i(e.id)},totalUser:t+0},e.id)}))})})]})})},g="ADD_EXPENSE",v="DISPLAY_MODAL",y="DISPLAY_MODAL_EXP",M="DISPLAY_MODAL_DEL_USER",_="ADD_USER",E="DEL_USER",I="UPDATE_INPUT",N=function(){return{type:v}},D=function(e){return{type:y,payload:e}},w=function(e){return{type:M,payload:e}},C=function(e){return{type:I,payload:e}},P=Object(l.b)((function(e){return{users:e.main.users}}),(function(e){return{switchModal:function(){e(N())},addExpense:function(t){e(D(t))},deleteUserModal:function(t){e(w(t))}}}))(x),U=(a(308),a(311),a(264)),k=function(e){var t=e.data;return console.log("graphdata :",t),Object(n.jsx)(U.a,{data:t,keys:["amount"],indexBy:"name",margin:{top:0,right:0,bottom:50,left:60},padding:.2,valueScale:{type:"linear"},indexScale:{type:"band",round:!0},colors:function(e){return e.data.color},defs:[{id:"dots",type:"patternDots",background:"inherit",color:"#38bcb2",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"#eed312",rotation:-45,lineWidth:6,spacing:10}],axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Nom",legendPosition:"middle",legendOffset:32},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Montant",legendPosition:"middle",legendOffset:-40},labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},legends:[],isInteractive:!1,animate:!0,motionStiffness:90,motionDamping:15})},S=function e(t){var a=t.data,c=t.transactions;return console.log("transactions",c),Object(n.jsxs)(o.a,{className:e.name.toLowerCase(),children:[Object(n.jsx)("h2",{className:"result__title",children:"Les rouges doivent aux jaunes"}),Object(n.jsx)(o.a,{className:"result__graph result__container",children:Object(n.jsx)(k,{data:a})}),Object(n.jsxs)(o.a,{className:"result__equilibre result__container",children:[Object(n.jsx)("h2",{className:"result__title",children:"Comment \xe9quilibrer ?"}),Object(n.jsx)(O.a,{as:"ul",children:c.map((function(e){return Object(n.jsx)(O.a.Item,{as:"li",children:e},e)}))}),Object(n.jsx)("div",{className:"result__emoji",children:"\ud83c\udf89"})]})]})},L=a(25),A=a(9),R="SWITCH_VIEW",H={displayModalExp:!1,displayModal:!1,displayModalDelUser:!1,switchResultPage:!1,formInput:{inputModal:"",inputModalExp:"",inputModalExpNum:0,currentUserExpID:0,currentUserExpName:""},users:[{id:1,name:"Flagada",expenses:[{id:474,label:"pain",amount:200},{id:45478,label:"couche",amount:200}]},{id:2,name:"Gontran",expenses:[{id:47758,label:"pain",amount:100},{id:433278,label:"couche",amount:100}]},{id:3,name:"Popop",expenses:[{id:4718,label:"pain",amount:50},{id:47578,label:"couche",amount:50}]},{id:4,name:"Picsou",expenses:[{id:47338,label:"pain",amount:300},{id:44878,label:"couche",amount:300}]},{id:5,name:"Gripsou",expenses:[{id:47968,label:"pain",amount:50},{id:4378,label:"couche",amount:50}]}]};Array.prototype.sum=function(e){for(var t=0,a=0,n=this.length;a<n;a++)t=parseInt(100*(t+this[a][e]))/100;return t};var z=function(e){return Math.sign(e)>=1?Math.ceil(100*e)/100:Math.floor(100*e)/100},B=function(e){return Math.round(100*e)/100},T=function(e){var t,a=e.map((function(e,t){return Object(A.a)(Object(A.a)({},e),{},{index:t})})),n=a.filter((function(e){return!(100*e.balance%1)})),c=a.filter((function(e){return 100*e.balance%1})),r=[];r=[];for(var i=0;i<c.length;i++)r.push(Object(A.a)(Object(A.a)({},c[i]),{},{balance:(t=c[i].balance,Math.sign(t)>=1?Math.floor(100*t)/100:Math.ceil(100*t)/100)}));if(!r.sum("balance"))return[].concat(Object(L.a)(r),Object(L.a)(n)).sort((function(e,t){return e.index-t.index}));r=[];for(var l=0;l<c.length;l++)r.push(Object(A.a)(Object(A.a)({},c[l]),{},{balance:z(c[l].balance)}));if(!r.sum("balance"))return[].concat(Object(L.a)(r),Object(L.a)(n)).sort((function(e,t){return e.index-t.index}));r=[];for(var s=0;s<c.length;s++)r.push(Object(A.a)(Object(A.a)({},c[s]),{},{balance:B(c[s].balance)}));if(!r.sum("balance"))return[].concat(Object(L.a)(r),Object(L.a)(n)).sort((function(e,t){return e.index-t.index}));for(var o=0;o<c.length;o++)o%2?-1===Math.sign(c[o].balance)?r.push(Object(A.a)(Object(A.a)({},c[o]),{},{balance:Math.ceil(100*c[o].balance)/100})):r.push(Object(A.a)(Object(A.a)({},c[o]),{},{balance:Math.floor(100*c[o].balance)/100})):1===Math.sign(c[o].balance)?r.push(Object(A.a)(Object(A.a)({},c[o]),{},{balance:Math.ceil(100*c[o].balance)/100})):r.push(Object(A.a)(Object(A.a)({},c[o]),{},{balance:Math.floor(100*c[o].balance)/100}));return[].concat(Object(L.a)(r),Object(L.a)(n)).sort((function(e,t){return e.index-t.index}))},V=function(e){var t=e.map((function(e){return{id:e.id,name:e.name,amount:e.expenses.length?e.expenses.reduce((function(e,t){return e+t.amount}),0):0}}));t.sort((function(e,t){return e.amount-t.amount}));for(var a=[],n=t.length,c=0,r=0;r<t.length;r++)c+=t[r].amount;var i=t.map((function(e){return Object(A.a)(Object(A.a)({},e),{},{balance:c/n-e.amount})})),l=T(i);return l.forEach((function(e){for(var t=l.length-1;t>0;t--)if(e.balance){var n=l[t];if(n.balance){if(e.balance>Math.abs(n.balance)){var c=B(n.balance);e.balance=B(e.balance+c),n.balance=B(n.balance-c),a.push("".concat(e.name," donne ").concat(c-c-c,"\u20ac a ").concat(n.name))}if(e.balance<=Math.abs(n.balance)){var r=B(e.balance);e.balance=B(e.balance-r),n.balance=B(n.balance+r),a.push("".concat(e.name," donne ").concat(r,"\u20ac a ").concat(n.name))}}}})),a},F=function(e){for(var t=0,a=e.map((function(e){return{id:e.id,name:e.name,total:e.expenses.reduce((function(e,t){return e+t.amount}),0)}})),n=0;n<a.length;n++)t+=a[n].total;return T(a).map((function(e){return{id:e.id,name:e.name,amount:B(t/a.length-e.total),color:t/a.length-e.total>=0?"#a84343":"#a8a243"}}))},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case v:return Object(A.a)(Object(A.a)({},e),{},{displayModal:!e.displayModal});case y:return Object(A.a)(Object(A.a)({},e),{},{displayModalExp:!e.displayModalExp,formInput:Object(A.a)(Object(A.a)({},e.formInput),{},{currentUserExpID:t.payload,currentUserExpName:t.payload?e.users.find((function(e){return e.id===t.payload})).name:""})});case M:return Object(A.a)(Object(A.a)({},e),{},{displayModalDelUser:!e.displayModalDelUser,formInput:Object(A.a)(Object(A.a)({},e.formInput),{},{currentUserExpID:t.payload,currentUserExpName:t.payload?e.users.find((function(e){return e.id===t.payload})).name:""})});case _:return Object(A.a)(Object(A.a)({},e),{},{users:[].concat(Object(L.a)(e.users),[{id:Math.max.apply(Math,Object(L.a)(e.users.map((function(e){return e.id}))))+1,name:e.formInput.inputModal,expenses:[]}]),formInput:Object(A.a)(Object(A.a)({},e.formInput),{},{inputModal:""}),displayModal:!1});case E:return Object(A.a)(Object(A.a)({},e),{},{users:e.users.filter((function(t){return t.id!==e.formInput.currentUserExpID})),displayModalDelUser:!e.displayModalDelUser});case I:return Object(A.a)(Object(A.a)({},e),{},{formInput:Object(A.a)(Object(A.a)({},e.formInput),t.payload)});case g:return Object(A.a)(Object(A.a)({},e),{},{users:e.users.map((function(t){return t.id!==e.formInput.currentUserExpID?t:Object(A.a)(Object(A.a)({},t),{},{expenses:[].concat(Object(L.a)(t.expenses),[{id:474458,label:e.formInput.inputModalExp,amount:Math.round(100*parseFloat(e.formInput.inputModalExpNum))/100}])})})),formInput:Object(A.a)(Object(A.a)({},e.formInput),{},{inputModalExp:"",inputModalExpNum:0,currentUserExpID:0}),displayModalExp:!1});case R:return Object(A.a)(Object(A.a)({},e),{},{switchResultPage:!e.switchResultPage});default:return e}},W=Object(l.b)((function(e){return{data:F(e.main.users),transactions:V(e.main.users)}}),null)(S),X=function(e){var t=e.switchResultPage,a=e.clickChangeView;return Object(n.jsxs)("main",{className:"main",children:[Object(n.jsx)(o.a,{className:"justify-content-md-center main__containerswitch",children:Object(n.jsxs)(d.a,{variant:"pills",className:"main__switch",children:[Object(n.jsx)(d.a.Item,{children:Object(n.jsx)(d.a.Link,{active:!t,onClick:a,children:"Edition"})}),Object(n.jsx)(d.a.Item,{children:Object(n.jsx)(d.a.Link,{active:t,onClick:a,children:"R\xe9sultat"})})]})}),!t&&Object(n.jsx)(P,{}),t&&Object(n.jsx)(W,{})]})},J=Object(l.b)((function(e){return{switchResultPage:e.main.switchResultPage}}),(function(e){return{clickChangeView:function(){e({type:R})}}}))(X),Y=a(94),q=a(482),K=a(483),Q=function(e){var t=e.clickAddUser,a=e.onChangeInput,c=e.inputModal,r=e.onHide;return Object(n.jsxs)(q.a,Object(A.a)(Object(A.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(n.jsx)(q.a.Header,{closeButton:!0,children:Object(n.jsx)(q.a.Title,{id:"contained-modal-title-vcenter",children:"Ajouter un(e) ami(e)"})}),Object(n.jsxs)(K.a,{onSubmit:t,children:[Object(n.jsx)(q.a.Body,{children:Object(n.jsxs)(K.a.Group,{controlId:"formBasicEmail",children:[Object(n.jsx)(K.a.Label,{children:"Son nom (ou son surnom):"}),Object(n.jsx)(K.a.Control,{type:"texte",placeholder:"Nom",name:"inputModal",onChange:function(e){a(Object(Y.a)({},e.target.name,e.target.value))},value:c})]})}),Object(n.jsxs)(q.a.Footer,{children:[Object(n.jsx)(p.a,{variant:"primary",type:"submit",children:"Ajouter"}),Object(n.jsx)(p.a,{variant:"outline-primary",onClick:r,children:"Annuler"})]})]})]}))},Z=Object(l.b)((function(e){return{show:e.main.displayModal,inputModal:e.main.formInput.inputModal}}),(function(e){return{onHide:function(){e(N())},clickAddUser:function(t){var a;t.preventDefault(),e({type:_,payload:a})},onChangeInput:function(t){e(C(t))}}}))(Q),$=function(e){var t=e.currentUserExpID,a=e.onChangeInput,c=e.inputModal,r=e.onHide,i=e.onSubmitExp,l=function(e){a(Object(Y.a)({},e.target.name,e.target.value))};return Object(n.jsxs)(q.a,Object(A.a)(Object(A.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(n.jsx)(q.a.Header,{closeButton:!0,children:Object(n.jsx)(q.a.Title,{id:"contained-modal-title-vcenter",children:"Ajouter un(e) ami(e)"})}),Object(n.jsxs)(K.a,{onSubmit:function(e){e.preventDefault(),i(t)},children:[Object(n.jsxs)(q.a.Body,{children:[Object(n.jsxs)(K.a.Group,{controlId:"type",children:[Object(n.jsx)(K.a.Label,{children:"Libell\xe9 de la d\xe9pense"}),Object(n.jsx)(K.a.Control,{type:"text",placeholder:"Nom",name:"inputModalExp",onChange:l,value:c})]}),Object(n.jsxs)(K.a.Group,{controlId:"formBasicEmail",children:[Object(n.jsx)(K.a.Label,{children:"Combien ?"}),Object(n.jsx)(K.a.Control,{type:"text",placeholder:"Nom",name:"inputModalExpNum",onChange:l,value:c,parse:function(e){return parseInt(e,10)}})]})]}),Object(n.jsxs)(q.a.Footer,{children:[Object(n.jsx)(p.a,{variant:"primary",type:"submit",children:"Ajouter"}),Object(n.jsx)(p.a,{variant:"outline-primary",onClick:r,children:"Annuler"})]})]})]}))},ee=Object(l.b)((function(e){return{show:e.main.displayModalExp,inputModalExp:e.main.formInput.inputModalExp,inputModalExpNum:e.main.formInput.inputModalExpNum}}),(function(e){return{onHide:function(){e(D())},onChangeInput:function(t){e(C(t))},onSubmitExp:function(){var t;e({type:g,payload:t})}}}))($),te=function(e){var t=e.currentUserExpID,a=e.onHide,c=e.onSubmitDelUser,r=e.userName;return Object(n.jsxs)(q.a,Object(A.a)(Object(A.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(n.jsx)(q.a.Header,{closeButton:!0,children:Object(n.jsxs)(q.a.Title,{id:"contained-modal-title-vcenter",children:["Etes vous sur de vouloir supprimer le participant ",r," ?"]})}),Object(n.jsx)(K.a,{onSubmit:function(e){e.preventDefault(),c(t)},children:Object(n.jsxs)(q.a.Footer,{children:[Object(n.jsx)(p.a,{variant:"primary",type:"submit",children:"Oui"}),Object(n.jsx)(p.a,{variant:"outline-primary",onClick:a,children:"Non"})]})})]}))},ae=Object(l.b)((function(e){return{show:e.main.displayModalDelUser,userName:e.main.formInput.currentUserExpName}}),(function(e){return{onHide:function(){e(w())},onSubmitDelUser:function(){var t;e({type:E,payload:t})}}}))(te);var ne=function(){return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(u,{}),Object(n.jsx)(J,{}),Object(n.jsx)(Z,{}),Object(n.jsx)(ee,{}),Object(n.jsx)(ae,{})]})},ce=a(66),re=Object(ce.c)({main:G}),ie=function(e){return function(t){return function(a){console.log(e.getState()),console.log("Je laisse passer cette action: ",a),t(a)}}},le=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ce.d)(Object(ce.a)(ie)),se=Object(ce.e)(re,le);Object(i.render)(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(l.a,{store:se,children:Object(n.jsx)(ne,{})})}),document.getElementById("root")),s()}},[[434,1,2]]]);
//# sourceMappingURL=main.42217bb7.chunk.js.map