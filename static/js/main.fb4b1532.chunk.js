(this["webpackJsonptricount-like"]=this["webpackJsonptricount-like"]||[]).push([[0],{22:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"e",(function(){return r})),n.d(t,"g",(function(){return c})),n.d(t,"f",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"h",(function(){return s})),n.d(t,"m",(function(){return d})),n.d(t,"o",(function(){return b})),n.d(t,"n",(function(){return p})),n.d(t,"j",(function(){return j})),n.d(t,"p",(function(){return m})),n.d(t,"i",(function(){return f})),n.d(t,"k",(function(){return O})),n.d(t,"l",(function(){return h}));var a="ADD_EXPENSE",r="DISPLAY_MODAL",c="DISPLAY_MODAL_EXP",i="DISPLAY_MODAL_DEL_USER",o="ADD_USER",l="DEL_USER",u="DEL_USERS",s="UPDATE_INPUT",d=function(){return{type:r}},b=function(e){return{type:c,payload:e}},p=function(e){return{type:i,payload:e}},j=function(e){return{type:o,payload:e}},m=function(e){return{type:s,payload:e}},f=function(e){return{type:a,payload:e}},O=function(e){return{type:l,payload:e}},h=function(){return{type:u}}},265:function(e,t,n){},267:function(e,t,n){},268:function(e,t,n){},270:function(e,t,n){},274:function(e,t,n){},393:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(32),i=n(31),o=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,447)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))},l=(n(265),n(266),n(4)),u=n(245),s=(n(267),n(430)),d=(n(268),n(5)),b=function(){return Object(d.jsx)(s.a,{fluid:!0,className:"header",children:Object(d.jsx)("div",{className:"display",children:Object(d.jsx)("h1",{className:"title",children:"le juste compte"})})})},p=n(443),j=(n(270),n(444)),m=(n(271),n(274),n(246)),f=function(e){var t=e.data;return Object(d.jsx)(m.a,{data:t,keys:["amount"],indexBy:"name",margin:{top:0,right:0,bottom:50,left:60},padding:.2,valueScale:{type:"linear"},indexScale:{type:"band",round:!0},colors:function(e){return e.data.color},theme:{textColor:"white",fontSize:16},defs:[{id:"dots",type:"patternDots",background:"inherit",color:"#38bcb2",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"#eed312",rotation:-45,lineWidth:6,spacing:10}],axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"",legendPosition:"middle",legendOffset:32},axisLeft:{tickSize:5,tickPadding:-5,tickRotation:0,legend:"Montant",legendPosition:"middle",legendOffset:-40},labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},legends:[],isInteractive:!1,animate:!0,motionStiffness:90,motionDamping:15})},O=function e(t){var n=t.data,a=t.transactions;return Object(d.jsxs)(s.a,{className:e.name.toLowerCase(),children:[Object(d.jsx)("h2",{className:"result__title",children:"Les bleus doivent aux jaunes"}),Object(d.jsx)(s.a,{className:"result__graph result__container",children:Object(d.jsx)(f,{data:n})}),Object(d.jsxs)(s.a,{className:"result__equilibre result__container",children:[Object(d.jsx)("h2",{className:"result__title",children:"Comment \xe9quilibrer ?"}),Object(d.jsx)(j.a,{as:"ul",children:a.map((function(e){return Object(d.jsx)(j.a.Item,{as:"li",children:e},e)}))}),Object(d.jsx)("div",{className:"result__emoji",children:"\ud83c\udf89"})]})]})},h=n(43),x=n(22),y="SWITCH_VIEW",g=function(e){return{type:y,payload:e}},v=n(441),E={displayModalExp:!1,displayModal:!1,displayModalDelUser:!1,switchResultPage:!1,formInput:{inputModal:"",inputModalExp:"",inputModalExpNum:0,currentUserExpID:0,currentUserExpName:""},users:[{id:"1",name:"Archibald",expenses:[{id:"474",label:"fajitas",amount:200},{id:"45478",label:"burritos",amount:200}]},{id:"2",name:"Th\xe9odule",expenses:[{id:"47758",label:"tacos",amount:100},{id:"433278",label:"chili",amount:100}]},{id:"3",name:"Eug\xe8ne",expenses:[{id:"4718",label:"empanadas",amount:50},{id:"47578",label:"tortillas",amount:50}]},{id:"4",name:"Stanislas",expenses:[{id:"47338",label:"quesadillas",amount:300},{id:"44878",label:"enchiladas",amount:300}]},{id:"5",name:"Hippolyte",expenses:[{id:"47968",label:"guacamole",amount:50},{id:"4378",label:"tamales",amount:50}]}]};Array.prototype.sum=function(e){for(var t=0,n=0,a=this.length;n<a;n++)t=parseInt(100*(t+this[n][e]))/100;return t};var M=function(e,t){var n=Math.pow(10,t);return+(Math.round(e*n+(t>0?1:0)*(Math.sign(e)*(10/Math.pow(100,t))))/n).toFixed(t)},I=function(e,t,n){if(Math.abs(e.balance)>Math.abs(t.balance)){var a=t.balance;e.balance=M(e.balance+a,2),t.balance=M(t.balance-a,2),n.push("".concat(e.name," donne ").concat(a,"\u20ac a ").concat(t.name))}if(Math.abs(e.balance)<=Math.abs(t.balance)){var r=e.balance;e.balance=M(e.balance-r,2),t.balance=M(t.balance+r,2),n.push("".concat(e.name," donne ").concat(r,"\u20ac a ").concat(t.name))}},D=function(e){var t=[],n=0,a=e.length;return(e=e.map((function(e){var t=e.expenses.length?e.expenses.reduce((function(e,t){return e-t.amount}),0):0;return n+=t,{id:e.id,name:e.name,amount:t}})).sort((function(e,t){return t.amount-e.amount})).map((function(e){return Object(l.a)(Object(l.a)({},e),{},{balance:M(-e.amount+n/a,2)})}))).forEach((function(n){for(var a=e.length-1;a>=0;a--){var r=e[a];if(!n.balance)break;n.id!==r.id&&r.balance&&I(n,r,t)}})),t},S=function(e){var t=0;return(e=e.map((function(e){var n=e.expenses.length?e.expenses.reduce((function(e,t){return e-t.amount}),0):0;return t+=n,{id:e.id,name:e.name,total:n}}))).map((function(n){return{id:n.id,name:n.name,amount:M(t/e.length-n.total,2),color:t/e.length-n.total>=0?"#17a2b8":"#cf992d"}}))},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case x.e:return Object(l.a)(Object(l.a)({},e),{},{displayModal:!e.displayModal});case x.g:return Object(l.a)(Object(l.a)({},e),{},{displayModalExp:!e.displayModalExp,formInput:Object(l.a)(Object(l.a)({},e.formInput),{},{currentUserExpID:t.payload,currentUserExpName:t.payload?e.users.find((function(e){return e.id===t.payload})).name:""})});case x.f:return Object(l.a)(Object(l.a)({},e),{},{displayModalDelUser:!e.displayModalDelUser,formInput:Object(l.a)(Object(l.a)({},e.formInput),{},{currentUserExpID:t.payload,currentUserExpName:t.payload?e.users.find((function(e){return e.id===t.payload})).name:""})});case x.b:return Object(l.a)(Object(l.a)({},e),{},{users:[].concat(Object(h.a)(e.users),[{id:Object(v.a)(),name:e.formInput.inputModal,expenses:[]}]),formInput:Object(l.a)(Object(l.a)({},e.formInput),{},{inputModal:""}),displayModal:!1});case x.c:return Object(l.a)(Object(l.a)({},e),{},{users:e.users.filter((function(t){return t.id!==e.formInput.currentUserExpID})),displayModalDelUser:!e.displayModalDelUser});case x.d:return Object(l.a)(Object(l.a)({},e),{},{users:[]});case x.h:return Object(l.a)(Object(l.a)({},e),{},{formInput:Object(l.a)(Object(l.a)({},e.formInput),t.payload)});case x.a:return Object(l.a)(Object(l.a)({},e),{},{users:e.users.map((function(t){return t.id!==e.formInput.currentUserExpID?t:Object(l.a)(Object(l.a)({},t),{},{expenses:[].concat(Object(h.a)(t.expenses),[{id:474458,label:e.formInput.inputModalExp,amount:Math.round(100*parseFloat(e.formInput.inputModalExpNum))/100}])})})),formInput:Object(l.a)(Object(l.a)({},e.formInput),{},{inputModalExp:"",inputModalExpNum:0,currentUserExpID:0}),displayModalExp:!1});case y:return Object(l.a)(Object(l.a)({},e),{},{switchResultPage:t.payload||!e.switchResultPage});default:return e}},k=Object(i.b)((function(e){return{data:S(e.main.users),transactions:D(e.main.users)}}),null)(O),N=Object(a.lazy)((function(){return n.e(3).then(n.bind(null,448))})),w=function(e){var t=e.switchResultPage,n=e.clickChangeView;return r.a.useEffect((function(){window.addEventListener("keydown",(function(e){"ArrowRight"===e.key&&n(!0),"ArrowLeft"===e.key&&n(!1)}))}),[]),Object(d.jsxs)("main",{className:"main",children:[Object(d.jsx)(s.a,{className:"justify-content-md-center main__containerswitch",children:Object(d.jsxs)(p.a,{variant:"pills",className:"main__switch",children:[Object(d.jsx)(p.a.Item,{children:Object(d.jsx)(p.a.Link,{active:!t,onClick:n,children:"Edition"})}),Object(d.jsx)(p.a.Item,{children:Object(d.jsx)(p.a.Link,{active:t,onClick:n,children:"R\xe9sultat"})})]})}),!t&&Object(d.jsx)(a.Suspense,{fallback:Object(d.jsx)("p",{children:"Loading"}),children:Object(d.jsx)(N,{})}),t&&Object(d.jsx)(k,{})]})},U=Object(i.b)((function(e){return{switchResultPage:e.main.switchResultPage}}),(function(e){return{clickChangeView:function(t){e("boolean"===typeof t?g(t):g())}}}))(w),C=n(72),L=n(439),A=n(440),P=n(438),R=function(e){var t=e.clickAddUser,n=e.onChangeInput,a=e.inputModal,r=e.onHide;return Object(d.jsxs)(L.a,Object(l.a)(Object(l.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(d.jsx)(L.a.Header,{closeButton:!0,children:Object(d.jsx)(L.a.Title,{id:"contained-modal-title-vcenter",children:"Ajouter un(e) ami(e)"})}),Object(d.jsxs)(A.a,{onSubmit:t,children:[Object(d.jsx)(L.a.Body,{children:Object(d.jsxs)(A.a.Group,{controlId:"formBasicEmail",children:[Object(d.jsx)(A.a.Label,{children:"Son nom (ou son surnom):"}),Object(d.jsx)(A.a.Control,{type:"texte",placeholder:"Nom",name:"inputModal",onChange:function(e){n(Object(C.a)({},e.target.name,e.target.value))},value:a})]})}),Object(d.jsxs)(L.a.Footer,{children:[Object(d.jsx)(P.a,{variant:"primary",type:"submit",children:"Ajouter"}),Object(d.jsx)(P.a,{variant:"outline-primary",onClick:r,children:"Annuler"})]})]})]}))},T=Object(i.b)((function(e){return{show:e.main.displayModal,inputModal:e.main.formInput.inputModal}}),(function(e){return{onHide:function(){e(Object(x.m)())},clickAddUser:function(t){t.preventDefault(),e(Object(x.j)())},onChangeInput:function(t){e(Object(x.p)(t))}}}))(R),H=function(e){var t=e.currentUserExpID,n=e.onChangeInput,a=e.inputModal,r=e.onHide,c=e.onSubmitExp,i=function(e){n(Object(C.a)({},e.target.name,e.target.value))};return Object(d.jsxs)(L.a,Object(l.a)(Object(l.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(d.jsx)(L.a.Header,{closeButton:!0,children:Object(d.jsx)(L.a.Title,{id:"contained-modal-title-vcenter",children:"Ajouter un(e) ami(e)"})}),Object(d.jsxs)(A.a,{onSubmit:function(e){e.preventDefault(),c(t)},children:[Object(d.jsxs)(L.a.Body,{children:[Object(d.jsxs)(A.a.Group,{controlId:"type",children:[Object(d.jsx)(A.a.Label,{children:"Libell\xe9 de la d\xe9pense"}),Object(d.jsx)(A.a.Control,{type:"text",placeholder:"Nom",name:"inputModalExp",onChange:i,value:a})]}),Object(d.jsxs)(A.a.Group,{controlId:"formBasicEmail",children:[Object(d.jsx)(A.a.Label,{children:"Combien ?"}),Object(d.jsx)(A.a.Control,{type:"text",placeholder:"Nom",name:"inputModalExpNum",onChange:i,value:a,parse:function(e){return parseInt(e,10)}})]})]}),Object(d.jsxs)(L.a.Footer,{children:[Object(d.jsx)(P.a,{variant:"primary",type:"submit",children:"Ajouter"}),Object(d.jsx)(P.a,{variant:"outline-primary",onClick:r,children:"Annuler"})]})]})]}))},B=Object(i.b)((function(e){return{show:e.main.displayModalExp,inputModalExp:e.main.formInput.inputModalExp,inputModalExpNum:e.main.formInput.inputModalExpNum}}),(function(e){return{onHide:function(){e(Object(x.o)())},onChangeInput:function(t){e(Object(x.p)(t))},onSubmitExp:function(){e(Object(x.i)())}}}))(H),F=function(e){var t=e.currentUserExpID,n=e.onHide,a=e.onSubmitDelUser,r=e.userName;return Object(d.jsxs)(L.a,Object(l.a)(Object(l.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(d.jsx)(L.a.Header,{closeButton:!0,children:Object(d.jsxs)(L.a.Title,{id:"contained-modal-title-vcenter",children:["Etes vous sur de vouloir supprimer le participant ",r," ?"]})}),Object(d.jsx)(A.a,{onSubmit:function(e){e.preventDefault(),a(t)},children:Object(d.jsxs)(L.a.Footer,{children:[Object(d.jsx)(P.a,{variant:"primary",type:"submit",children:"Oui"}),Object(d.jsx)(P.a,{variant:"outline-primary",onClick:n,children:"Non"})]})})]}))},z=Object(i.b)((function(e){return{show:e.main.displayModalDelUser,userName:e.main.formInput.currentUserExpName}}),(function(e){return{onHide:function(){e(Object(x.n)())},onSubmitDelUser:function(){e(Object(x.k)())}}}))(F);var V=function(){var e=Object(u.useSwipeable)({onSwipedLeft:function(){return console.log("slide left")},onSwipedRight:function(){return console.log("slide right")},preventDefaultTouchmoveEvent:!0,trackMouse:!0});return Object(d.jsxs)("div",Object(l.a)(Object(l.a)({className:"App"},e),{},{children:[Object(d.jsx)(b,{}),Object(d.jsx)(U,{}),Object(d.jsx)(T,{}),Object(d.jsx)(B,{}),Object(d.jsx)(z,{})]}))},W=n(77),X=Object(W.b)({main:_}),q=function(e){return function(t){return function(n){console.log(e.getState()),console.log("Je laisse passer cette action: ",n),t(n)}}},G=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||W.c)(Object(W.a)(q)),J=Object(W.d)(X,G);Object(c.render)(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(i.a,{store:J,children:Object(d.jsx)(V,{})})}),document.getElementById("root")),o()}},[[393,1,2]]]);
//# sourceMappingURL=main.fb4b1532.chunk.js.map